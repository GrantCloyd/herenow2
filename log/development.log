  [1m[35m (340.8ms)[0m  [1m[35mCREATE DATABASE "react_rails_api_project_template_development" ENCODING = 'unicode'[0m
  [1m[35m (279.9ms)[0m  [1m[35mCREATE DATABASE "react_rails_api_project_template_test" ENCODING = 'unicode'[0m
  [1m[35m (25.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1087325618115650655)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (5.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-09-05 12:07:05.164385"], ["updated_at", "2021-09-05 12:07:05.164385"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT pg_advisory_unlock(1087325618115650655)[0m
  [1m[35m (2.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/me" for 127.0.0.1 at 2021-09-05 07:07:45 -0500
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LogInController#me as */*
Completed 500 Internal Server Error in 51ms (ActiveRecord: 4.5ms | Allocations: 7413)


  
ActiveRecord::StatementInvalid (PG::UndefinedTable: ERROR:  relation "students" does not exist
LINE 8:  WHERE a.attrelid = '"students"'::regclass
                            ^
):
  
app/controllers/log_in_controller.rb:25:in `me'
Started POST "/log_in" for 127.0.0.1 at 2021-09-05 07:07:47 -0500
Processing by LogInController#create as JSON
  Parameters: {"email"=>"guestS", "password"=>"[FILTERED]", "type"=>"student", "log_in"=>{"email"=>"guestS", "password"=>"[FILTERED]", "type"=>"student"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.6ms | Allocations: 203)


  
ActiveRecord::StatementInvalid (PG::UndefinedTable: ERROR:  relation "students" does not exist
LINE 8:  WHERE a.attrelid = '"students"'::regclass
                            ^
):
  
app/controllers/log_in_controller.rb:6:in `create'
Started POST "/users" for 127.0.0.1 at 2021-09-05 07:08:00 -0500
Processing by UsersController#create as JSON
  Parameters: {"name"=>"guest", "email"=>"guest", "password"=>"[FILTERED]", "confirmPassword"=>"[FILTERED]", "type"=>"teacher", "user"=>{"name"=>"guest", "email"=>"guest", "password"=>"[FILTERED]", "confirmPassword"=>"[FILTERED]", "type"=>"teacher"}}
[31mUnpermitted parameters: :confirmPassword, :type, :user[0m
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.7ms | Allocations: 2595)


  
ActiveRecord::StatementInvalid (PG::UndefinedTable: ERROR:  relation "teachers" does not exist
LINE 8:  WHERE a.attrelid = '"teachers"'::regclass
                            ^
):
  
app/controllers/users_controller.rb:6:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1087325618115650655)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(1087325618115650655)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1087325618115650655)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateActiveStorageTables (20210809182104)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (21.5ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "service_name" character varying NOT NULL, "byte_size" bigint NOT NULL, "checksum" character varying NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (17.6ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (6.8ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" bigserial primary key, "blob_id" bigint NOT NULL, "variation_digest" character varying NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210809182104"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateStudents (20210809184237)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.8ms)[0m  [1m[35mCREATE TABLE "students" ("id" bigserial primary key, "name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210809184237"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTeachers (20210809184243)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.2ms)[0m  [1m[35mCREATE TABLE "teachers" ("id" bigserial primary key, "name" character varying, "email" character varying, "password_digest" character varying, "background" text, "image_url" text DEFAULT 'https://clipground.com/images/avatar-clipart-free-6.png', "income" decimal DEFAULT 0.0, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210809184243"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMeditations (20210809185615)
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE TABLE "meditations" ("id" bigserial primary key, "med_type" character varying, "title" character varying, "description" text, "est_length" integer, "teacher_id" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210809185615"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePlays (20210809190223)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE TABLE "plays" ("id" bigserial primary key, "student_id" integer, "meditation_id" integer, "length" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210809190223"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateFollows (20210812140017)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "follows" ("id" bigserial primary key, "student_id" integer, "teacher_id" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210812140017"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessages (20210813155149)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.4ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "content" text, "student_id" integer, "teacher_id" integer, "chat_id" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210813155149"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateChats (20210813161330)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.5ms)[0m  [1m[35mCREATE TABLE "chats" ("id" bigserial primary key, "title" character varying, "student_id" integer, "teacher_id" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210813161330"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddUsernameToMessages (20210813173823)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "messages" ADD "username" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210813173823"]]
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddOptInAndFollowMessageToTeacher (20210814142147)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "teachers" ADD "opt_in" boolean DEFAULT FALSE[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "teachers" ADD "follow_message" text[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210814142147"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateFavorites (20210814155100)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "favorites" ("id" bigserial primary key, "meditation_id" integer, "student_id" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210814155100"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDonations (20210816155227)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.2ms)[0m  [1m[35mCREATE TABLE "donations" ("id" bigserial primary key, "student_id" integer, "teacher_id" integer, "amount" decimal, "message" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210816155227"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddUsernameToDonation (20210816160506)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "donations" ADD "username" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210816160506"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1087325618115650655)[0m
  [1m[35m (2.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/users" for 127.0.0.1 at 2021-09-05 07:10:01 -0500
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create as JSON
  Parameters: {"name"=>"guest", "email"=>"guest", "password"=>"[FILTERED]", "confirmPassword"=>"[FILTERED]", "type"=>"teacher", "user"=>{"name"=>"guest", "email"=>"guest", "password"=>"[FILTERED]", "confirmPassword"=>"[FILTERED]", "type"=>"teacher"}}
[31mUnpermitted parameters: :confirmPassword, :type, :user[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:6:in `create'
  [1m[36mTeacher Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "teachers" WHERE "teachers"."email" = $1 LIMIT $2[0m  [["email", "guest"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:6:in `create'
  [1m[36mTeacher Create (0.9ms)[0m  [1m[32mINSERT INTO "teachers" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "guest"], ["email", "guest"], ["password_digest", "$2a$12$gZVy3BIqvOt4jwfZM7pxYO3ha074vfegjk/W.562z650wQSCEtmT."], ["created_at", "2021-09-05 12:10:01.690775"], ["updated_at", "2021-09-05 12:10:01.690775"]]
  ↳ app/controllers/users_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:6:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Teacher (0.46ms)
Completed 200 OK in 314ms (Views: 4.6ms | ActiveRecord: 8.6ms | Allocations: 15187)


Started POST "/users" for 127.0.0.1 at 2021-09-05 07:10:28 -0500
Processing by UsersController#create as JSON
  Parameters: {"name"=>"guest", "email"=>"guestS", "password"=>"[FILTERED]", "confirmPassword"=>"[FILTERED]", "type"=>"student", "user"=>{"name"=>"guest", "email"=>"guestS", "password"=>"[FILTERED]", "confirmPassword"=>"[FILTERED]", "type"=>"student"}}
[31mUnpermitted parameters: :confirmPassword, :type, :user[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:4:in `create'
  [1m[36mStudent Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = $1 LIMIT $2[0m  [["email", "guestS"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:4:in `create'
  [1m[36mStudent Create (0.8ms)[0m  [1m[32mINSERT INTO "students" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "guest"], ["email", "guestS"], ["password_digest", "$2a$12$xdaTlhFkTgK.cnimJZ/V3epQKwc.ul/J9jvANhzDTf4bEXTNAvfHq"], ["created_at", "2021-09-05 12:10:28.708710"], ["updated_at", "2021-09-05 12:10:28.708710"]]
  ↳ app/controllers/users_controller.rb:4:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:4:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Student (0.71ms)
Completed 200 OK in 301ms (Views: 2.8ms | ActiveRecord: 8.2ms | Allocations: 9737)


Started POST "/log_in" for 127.0.0.1 at 2021-09-05 07:10:29 -0500
Processing by LogInController#create as JSON
  Parameters: {"email"=>"guest", "password"=>"[FILTERED]", "type"=>"teacher", "log_in"=>{"email"=>"guest", "password"=>"[FILTERED]", "type"=>"teacher"}}
  [1m[36mTeacher Load (0.3ms)[0m  [1m[34mSELECT "teachers".* FROM "teachers" WHERE "teachers"."email" = $1 LIMIT $2[0m  [["email", "guest"], ["LIMIT", 1]]
  ↳ app/controllers/log_in_controller.rb:9:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Teacher (0.48ms)
Completed 200 OK in 266ms (Views: 1.0ms | ActiveRecord: 0.5ms | Allocations: 1632)


Started GET "/me" for 127.0.0.1 at 2021-09-05 07:10:34 -0500
Processing by LogInController#me as */*
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/log_in_controller.rb:25:in `me'
  [1m[36mTeacher Load (0.4ms)[0m  [1m[34mSELECT "teachers".* FROM "teachers" WHERE "teachers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/log_in_controller.rb:26:in `me'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Teacher (1.41ms)
Completed 200 OK in 20ms (Views: 2.1ms | ActiveRecord: 0.8ms | Allocations: 1558)


Started GET "/%3Canonymous%3E" for 127.0.0.1 at 2021-09-05 07:10:34 -0500
  
ActionController::RoutingError (No route matches [GET] "/%3Canonymous%3E"):
  
Started GET "/%3Canonymous%3E" for 127.0.0.1 at 2021-09-05 07:10:34 -0500
  
ActionController::RoutingError (No route matches [GET] "/%3Canonymous%3E"):
  
Started GET "/me" for 127.0.0.1 at 2021-09-05 07:11:32 -0500
Processing by LogInController#me as */*
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/log_in_controller.rb:25:in `me'
  [1m[36mTeacher Load (0.5ms)[0m  [1m[34mSELECT "teachers".* FROM "teachers" WHERE "teachers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/log_in_controller.rb:26:in `me'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Teacher (2.72ms)
Completed 200 OK in 12ms (Views: 3.9ms | ActiveRecord: 1.0ms | Allocations: 1418)


Started DELETE "/log_in" for 127.0.0.1 at 2021-09-05 07:11:34 -0500
Processing by LogInController#destroy as JSON
  Parameters: {"_json"=>"", "log_in"=>{"_json"=>""}}
Completed 204 No Content in 1ms (ActiveRecord: 0.0ms | Allocations: 182)


Started POST "/log_in" for 127.0.0.1 at 2021-09-05 07:11:36 -0500
Processing by LogInController#create as JSON
  Parameters: {"email"=>"guest", "password"=>"[FILTERED]", "type"=>"teacher", "log_in"=>{"email"=>"guest", "password"=>"[FILTERED]", "type"=>"teacher"}}
  [1m[36mTeacher Load (0.5ms)[0m  [1m[34mSELECT "teachers".* FROM "teachers" WHERE "teachers"."email" = $1 LIMIT $2[0m  [["email", "guest"], ["LIMIT", 1]]
  ↳ app/controllers/log_in_controller.rb:9:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Teacher (0.25ms)
Completed 200 OK in 266ms (Views: 1.0ms | ActiveRecord: 0.5ms | Allocations: 942)


Started GET "/me" for 127.0.0.1 at 2021-09-05 07:11:54 -0500
Processing by LogInController#me as */*
  [1m[36mStudent Load (0.6ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/log_in_controller.rb:25:in `me'
  [1m[36mTeacher Load (0.7ms)[0m  [1m[34mSELECT "teachers".* FROM "teachers" WHERE "teachers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/log_in_controller.rb:26:in `me'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Teacher (0.65ms)
Completed 200 OK in 10ms (Views: 1.5ms | ActiveRecord: 1.3ms | Allocations: 1416)


Started GET "/%3Canonymous%3E" for 127.0.0.1 at 2021-09-05 07:11:54 -0500
  
ActionController::RoutingError (No route matches [GET] "/%3Canonymous%3E"):
  
Started GET "/%3Canonymous%3E" for 127.0.0.1 at 2021-09-05 07:11:54 -0500
  
ActionController::RoutingError (No route matches [GET] "/%3Canonymous%3E"):
  
Started GET "/me" for 127.0.0.1 at 2021-09-05 07:11:59 -0500
Processing by LogInController#me as */*
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/log_in_controller.rb:25:in `me'
  [1m[36mTeacher Load (0.9ms)[0m  [1m[34mSELECT "teachers".* FROM "teachers" WHERE "teachers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/log_in_controller.rb:26:in `me'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Teacher (0.34ms)
Completed 200 OK in 7ms (Views: 1.1ms | ActiveRecord: 1.3ms | Allocations: 1424)


Started GET "/me" for 127.0.0.1 at 2021-09-05 07:12:56 -0500
Processing by LogInController#me as */*
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/log_in_controller.rb:25:in `me'
  [1m[36mTeacher Load (1.2ms)[0m  [1m[34mSELECT "teachers".* FROM "teachers" WHERE "teachers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/log_in_controller.rb:26:in `me'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Teacher (0.52ms)
Completed 200 OK in 8ms (Views: 1.4ms | ActiveRecord: 1.6ms | Allocations: 1412)


Started GET "/%3Canonymous%3E" for 127.0.0.1 at 2021-09-05 07:12:56 -0500
  
ActionController::RoutingError (No route matches [GET] "/%3Canonymous%3E"):
  
Started GET "/%3Canonymous%3E" for 127.0.0.1 at 2021-09-05 07:12:57 -0500
  
ActionController::RoutingError (No route matches [GET] "/%3Canonymous%3E"):
  
Started GET "/me" for 127.0.0.1 at 2021-09-05 07:13:01 -0500
Processing by LogInController#me as */*
  [1m[36mStudent Load (0.7ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/log_in_controller.rb:25:in `me'
  [1m[36mTeacher Load (0.7ms)[0m  [1m[34mSELECT "teachers".* FROM "teachers" WHERE "teachers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/log_in_controller.rb:26:in `me'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Teacher (0.43ms)
Completed 200 OK in 7ms (Views: 1.0ms | ActiveRecord: 1.4ms | Allocations: 1413)


Started DELETE "/log_in" for 127.0.0.1 at 2021-09-05 07:13:03 -0500
Processing by LogInController#destroy as JSON
  Parameters: {"_json"=>"", "log_in"=>{"_json"=>""}}
Completed 204 No Content in 0ms (ActiveRecord: 0.0ms | Allocations: 166)


Started POST "/log_in" for 127.0.0.1 at 2021-09-05 07:13:07 -0500
Processing by LogInController#create as JSON
  Parameters: {"email"=>"guest", "password"=>"[FILTERED]", "type"=>"teacher", "log_in"=>{"email"=>"guest", "password"=>"[FILTERED]", "type"=>"teacher"}}
  [1m[36mTeacher Load (0.5ms)[0m  [1m[34mSELECT "teachers".* FROM "teachers" WHERE "teachers"."email" = $1 LIMIT $2[0m  [["email", "guest"], ["LIMIT", 1]]
  ↳ app/controllers/log_in_controller.rb:9:in `create'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Teacher (0.25ms)
Completed 200 OK in 264ms (Views: 0.8ms | ActiveRecord: 0.5ms | Allocations: 921)


Started GET "/me" for 127.0.0.1 at 2021-09-05 07:14:38 -0500
Processing by LogInController#me as */*
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/log_in_controller.rb:25:in `me'
  [1m[36mTeacher Load (0.4ms)[0m  [1m[34mSELECT "teachers".* FROM "teachers" WHERE "teachers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/log_in_controller.rb:26:in `me'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Teacher (0.4ms)
Completed 200 OK in 6ms (Views: 1.1ms | ActiveRecord: 0.7ms | Allocations: 1428)


Started GET "/me" for 127.0.0.1 at 2021-09-05 07:14:56 -0500
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LogInController#me as */*
  [1m[36mStudent Load (0.8ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/log_in_controller.rb:25:in `me'
  [1m[36mTeacher Load (0.6ms)[0m  [1m[34mSELECT "teachers".* FROM "teachers" WHERE "teachers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/log_in_controller.rb:26:in `me'
[active_model_serializers]   [1m[36mMeditation Load (1.7ms)[0m  [1m[34mSELECT "meditations".* FROM "meditations" WHERE "meditations"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/serializers/teacher_serializer.rb:43:in `last_med'
[active_model_serializers]   [1m[35m (2.5ms)[0m  [1m[34mSELECT SUM("donations"."amount") FROM "donations" WHERE "donations"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/serializers/teacher_serializer.rb:19:in `total_income'
[active_model_serializers]   [1m[36mDonation Load (0.8ms)[0m  [1m[34mSELECT "donations".* FROM "donations" WHERE "donations"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/serializers/teacher_serializer.rb:23:in `most_donated_student'
[active_model_serializers]   [1m[36mFollow Load (1.2ms)[0m  [1m[34mSELECT "follows".* FROM "follows" WHERE "follows"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/controllers/log_in_controller.rb:30:in `me'
[active_model_serializers]   [1m[36mChat Load (1.2ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/controllers/log_in_controller.rb:30:in `me'
[active_model_serializers] Rendered TeacherSerializer with ActiveModelSerializers::Adapter::Attributes (121.79ms)
Completed 200 OK in 238ms (Views: 135.8ms | ActiveRecord: 42.8ms | Allocations: 34230)


Started DELETE "/log_in" for 127.0.0.1 at 2021-09-05 07:14:57 -0500
Processing by LogInController#destroy as JSON
  Parameters: {"_json"=>"", "log_in"=>{"_json"=>""}}
Completed 204 No Content in 1ms (ActiveRecord: 0.0ms | Allocations: 187)


Started POST "/log_in" for 127.0.0.1 at 2021-09-05 07:14:59 -0500
Processing by LogInController#create as JSON
  Parameters: {"email"=>"guest", "password"=>"[FILTERED]", "type"=>"teacher", "log_in"=>{"email"=>"guest", "password"=>"[FILTERED]", "type"=>"teacher"}}
  [1m[36mTeacher Load (0.4ms)[0m  [1m[34mSELECT "teachers".* FROM "teachers" WHERE "teachers"."email" = $1 LIMIT $2[0m  [["email", "guest"], ["LIMIT", 1]]
  ↳ app/controllers/log_in_controller.rb:9:in `create'
[active_model_serializers]   [1m[36mMeditation Load (0.4ms)[0m  [1m[34mSELECT "meditations".* FROM "meditations" WHERE "meditations"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/serializers/teacher_serializer.rb:43:in `last_med'
[active_model_serializers]   [1m[35m (0.3ms)[0m  [1m[34mSELECT SUM("donations"."amount") FROM "donations" WHERE "donations"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/serializers/teacher_serializer.rb:19:in `total_income'
[active_model_serializers]   [1m[36mDonation Load (0.4ms)[0m  [1m[34mSELECT "donations".* FROM "donations" WHERE "donations"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/serializers/teacher_serializer.rb:23:in `most_donated_student'
[active_model_serializers]   [1m[36mFollow Load (0.3ms)[0m  [1m[34mSELECT "follows".* FROM "follows" WHERE "follows"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/controllers/log_in_controller.rb:13:in `create'
[active_model_serializers]   [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/controllers/log_in_controller.rb:13:in `create'
[active_model_serializers] Rendered TeacherSerializer with ActiveModelSerializers::Adapter::Attributes (11.26ms)
Completed 200 OK in 276ms (Views: 10.0ms | ActiveRecord: 2.4ms | Allocations: 4766)


Started DELETE "/log_in" for 127.0.0.1 at 2021-09-05 07:15:11 -0500
Processing by LogInController#destroy as JSON
  Parameters: {"_json"=>"", "log_in"=>{"_json"=>""}}
Completed 204 No Content in 1ms (ActiveRecord: 0.0ms | Allocations: 182)


Started POST "/log_in" for 127.0.0.1 at 2021-09-05 07:15:13 -0500
Processing by LogInController#create as JSON
  Parameters: {"email"=>"guest", "password"=>"[FILTERED]", "type"=>"teacher", "log_in"=>{"email"=>"guest", "password"=>"[FILTERED]", "type"=>"teacher"}}
  [1m[36mTeacher Load (0.4ms)[0m  [1m[34mSELECT "teachers".* FROM "teachers" WHERE "teachers"."email" = $1 LIMIT $2[0m  [["email", "guest"], ["LIMIT", 1]]
  ↳ app/controllers/log_in_controller.rb:9:in `create'
[active_model_serializers]   [1m[36mMeditation Load (0.3ms)[0m  [1m[34mSELECT "meditations".* FROM "meditations" WHERE "meditations"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/serializers/teacher_serializer.rb:43:in `last_med'
[active_model_serializers]   [1m[35m (0.4ms)[0m  [1m[34mSELECT SUM("donations"."amount") FROM "donations" WHERE "donations"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/serializers/teacher_serializer.rb:19:in `total_income'
[active_model_serializers]   [1m[36mDonation Load (0.4ms)[0m  [1m[34mSELECT "donations".* FROM "donations" WHERE "donations"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/serializers/teacher_serializer.rb:23:in `most_donated_student'
[active_model_serializers]   [1m[36mFollow Load (0.3ms)[0m  [1m[34mSELECT "follows".* FROM "follows" WHERE "follows"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/controllers/log_in_controller.rb:13:in `create'
[active_model_serializers]   [1m[36mChat Load (1.2ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/controllers/log_in_controller.rb:13:in `create'
[active_model_serializers] Rendered TeacherSerializer with ActiveModelSerializers::Adapter::Attributes (13.25ms)
Completed 200 OK in 277ms (Views: 11.3ms | ActiveRecord: 3.0ms | Allocations: 4654)


Started POST "/meditations" for 127.0.0.1 at 2021-09-05 07:15:46 -0500
Processing by MeditationsController#create as HTML
  Parameters: {"title"=>"Testing", "description"=>"wub", "med_type"=>"Breath", "est_length"=>"3", "audio_file"=>#<ActionDispatch::Http::UploadedFile:0x00007fdd106d1948 @tempfile=#<Tempfile:/var/folders/44/mqbj0ph116j45zlnzw_ryx780000gn/T/RackMultipart20210905-24014-198i2rg>, @original_filename="blob", @content_type="audio/webm;codecs=opus", @headers="Content-Disposition: form-data; name=\"audio_file\"; filename=\"blob\"\r\nContent-Type: audio/webm;codecs=opus\r\n">, "teacher_id"=>"1"}
Completed 500 Internal Server Error in 39ms (ActiveRecord: 3.0ms | Allocations: 8423)


  
RuntimeError (YAML syntax error occurred while parsing /Users/grant/flatiron/code/mod5/remake/herenow2/config/storage.yml. Please note that YAML must be consistently indented using spaces. Tabs are not allowed. Error: (<unknown>): did not find expected key while parsing a block mapping at line 6 column 3):
  
app/controllers/meditations_controller.rb:16:in `create'
Started DELETE "/log_in" for 127.0.0.1 at 2021-09-05 07:16:14 -0500
Processing by LogInController#destroy as JSON
  Parameters: {"_json"=>"", "log_in"=>{"_json"=>""}}
Completed 204 No Content in 1ms (ActiveRecord: 0.0ms | Allocations: 202)


Started GET "/me" for 127.0.0.1 at 2021-09-05 07:19:12 -0500
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LogInController#me as */*
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/log_in_controller.rb:25:in `me'
  [1m[36mTeacher Load (0.8ms)[0m  [1m[34mSELECT "teachers".* FROM "teachers" WHERE "teachers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/log_in_controller.rb:26:in `me'
Completed 200 OK in 54ms (Views: 0.6ms | ActiveRecord: 7.9ms | Allocations: 10814)


Started POST "/log_in" for 127.0.0.1 at 2021-09-05 07:19:19 -0500
Processing by LogInController#create as JSON
  Parameters: {"email"=>"guest", "password"=>"[FILTERED]", "type"=>"teacher", "log_in"=>{"email"=>"guest", "password"=>"[FILTERED]", "type"=>"teacher"}}
  [1m[36mTeacher Load (0.4ms)[0m  [1m[34mSELECT "teachers".* FROM "teachers" WHERE "teachers"."email" = $1 LIMIT $2[0m  [["email", "guest"], ["LIMIT", 1]]
  ↳ app/controllers/log_in_controller.rb:9:in `create'
[active_model_serializers]   [1m[36mMeditation Load (0.6ms)[0m  [1m[34mSELECT "meditations".* FROM "meditations" WHERE "meditations"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/serializers/teacher_serializer.rb:43:in `last_med'
[active_model_serializers]   [1m[35m (0.8ms)[0m  [1m[34mSELECT SUM("donations"."amount") FROM "donations" WHERE "donations"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/serializers/teacher_serializer.rb:19:in `total_income'
[active_model_serializers]   [1m[36mDonation Load (0.3ms)[0m  [1m[34mSELECT "donations".* FROM "donations" WHERE "donations"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/serializers/teacher_serializer.rb:23:in `most_donated_student'
[active_model_serializers]   [1m[36mFollow Load (0.7ms)[0m  [1m[34mSELECT "follows".* FROM "follows" WHERE "follows"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/controllers/log_in_controller.rb:13:in `create'
[active_model_serializers]   [1m[36mChat Load (1.0ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/controllers/log_in_controller.rb:13:in `create'
[active_model_serializers] Rendered TeacherSerializer with ActiveModelSerializers::Adapter::Attributes (58.11ms)
Completed 200 OK in 347ms (Views: 57.7ms | ActiveRecord: 18.2ms | Allocations: 19956)


Started POST "/meditations" for 127.0.0.1 at 2021-09-05 07:19:37 -0500
Processing by MeditationsController#create as HTML
  Parameters: {"title"=>"Testing", "description"=>"Wubwub", "med_type"=>"Breath", "est_length"=>"3", "audio_file"=>#<ActionDispatch::Http::UploadedFile:0x00007fb656eda508 @tempfile=#<Tempfile:/var/folders/44/mqbj0ph116j45zlnzw_ryx780000gn/T/RackMultipart20210905-24104-19ud8fy>, @original_filename="blob", @content_type="audio/webm;codecs=opus", @headers="Content-Disposition: form-data; name=\"audio_file\"; filename=\"blob\"\r\nContent-Type: audio/webm;codecs=opus\r\n">, "teacher_id"=>"1"}
Completed 500 Internal Server Error in 34ms (ActiveRecord: 2.3ms | Allocations: 7210)


  
RuntimeError (YAML syntax error occurred while parsing /Users/grant/flatiron/code/mod5/remake/herenow2/config/storage.yml. Please note that YAML must be consistently indented using spaces. Tabs are not allowed. Error: (<unknown>): did not find expected key while parsing a block mapping at line 1 column 1):
  
app/controllers/meditations_controller.rb:16:in `create'
Started DELETE "/log_in" for 127.0.0.1 at 2021-09-05 07:20:07 -0500
Processing by LogInController#destroy as JSON
  Parameters: {"_json"=>"", "log_in"=>{"_json"=>""}}
Completed 204 No Content in 1ms (ActiveRecord: 0.0ms | Allocations: 210)


Started POST "/log_in" for 127.0.0.1 at 2021-09-05 07:22:02 -0500
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LogInController#create as JSON
  Parameters: {"email"=>"guest", "password"=>"[FILTERED]", "type"=>"teacher", "log_in"=>{"email"=>"guest", "password"=>"[FILTERED]", "type"=>"teacher"}}
  [1m[36mTeacher Load (0.9ms)[0m  [1m[34mSELECT "teachers".* FROM "teachers" WHERE "teachers"."email" = $1 LIMIT $2[0m  [["email", "guest"], ["LIMIT", 1]]
  ↳ app/controllers/log_in_controller.rb:9:in `create'
[active_model_serializers]   [1m[36mMeditation Load (0.4ms)[0m  [1m[34mSELECT "meditations".* FROM "meditations" WHERE "meditations"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/serializers/teacher_serializer.rb:43:in `last_med'
[active_model_serializers]   [1m[35m (0.9ms)[0m  [1m[34mSELECT SUM("donations"."amount") FROM "donations" WHERE "donations"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/serializers/teacher_serializer.rb:19:in `total_income'
[active_model_serializers]   [1m[36mDonation Load (0.3ms)[0m  [1m[34mSELECT "donations".* FROM "donations" WHERE "donations"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/serializers/teacher_serializer.rb:23:in `most_donated_student'
[active_model_serializers]   [1m[36mFollow Load (0.5ms)[0m  [1m[34mSELECT "follows".* FROM "follows" WHERE "follows"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/controllers/log_in_controller.rb:13:in `create'
[active_model_serializers]   [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/controllers/log_in_controller.rb:13:in `create'
[active_model_serializers] Rendered TeacherSerializer with ActiveModelSerializers::Adapter::Attributes (42.98ms)
Completed 200 OK in 386ms (Views: 42.7ms | ActiveRecord: 21.6ms | Allocations: 27080)


Started POST "/meditations" for 127.0.0.1 at 2021-09-05 07:22:20 -0500
Processing by MeditationsController#create as HTML
  Parameters: {"title"=>"Testing", "description"=>"wubwub", "med_type"=>"Breath", "est_length"=>"3", "audio_file"=>#<ActionDispatch::Http::UploadedFile:0x00007ffa02a9aae8 @tempfile=#<Tempfile:/var/folders/44/mqbj0ph116j45zlnzw_ryx780000gn/T/RackMultipart20210905-24226-10dufrm>, @original_filename="blob", @content_type="audio/webm;codecs=opus", @headers="Content-Disposition: form-data; name=\"audio_file\"; filename=\"blob\"\r\nContent-Type: audio/webm;codecs=opus\r\n">, "teacher_id"=>"1"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/meditations_controller.rb:16:in `create'
  [1m[36mTeacher Load (0.4ms)[0m  [1m[34mSELECT "teachers".* FROM "teachers" WHERE "teachers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/meditations_controller.rb:16:in `create'
  [1m[36mMeditation Create (1.8ms)[0m  [1m[32mINSERT INTO "meditations" ("med_type", "title", "description", "est_length", "teacher_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["med_type", "Breath"], ["title", "Testing"], ["description", "wubwub"], ["est_length", 3], ["teacher_id", 1], ["created_at", "2021-09-05 12:22:20.529388"], ["updated_at", "2021-09-05 12:22:20.529388"]]
  ↳ app/controllers/meditations_controller.rb:16:in `create'
  [1m[36mActiveStorage::Attachment Load (3.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Meditation"], ["name", "audio_file"], ["LIMIT", 1]]
  ↳ app/controllers/meditations_controller.rb:16:in `create'
  [1m[36mActiveStorage::Blob Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "xd5wm3xagj8gn27xc2nbtnu4sr06"], ["filename", "blob"], ["content_type", "video/webm"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 22774], ["checksum", "4gNNhOvXX/HsLMq8QuWMMw=="], ["created_at", "2021-09-05 12:22:20.541364"]]
  ↳ app/controllers/meditations_controller.rb:16:in `create'
  [1m[36mActiveStorage::Attachment Create (4.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "audio_file"], ["record_type", "Meditation"], ["record_id", 1], ["blob_id", 1], ["created_at", "2021-09-05 12:22:20.544852"]]
  ↳ app/controllers/meditations_controller.rb:16:in `create'
  [1m[36mMeditation Update (2.6ms)[0m  [1m[33mUPDATE "meditations" SET "updated_at" = $1 WHERE "meditations"."id" = $2[0m  [["updated_at", "2021-09-05 12:22:20.552221"], ["id", 1]]
  ↳ app/controllers/meditations_controller.rb:16:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/meditations_controller.rb:16:in `create'
[36m  Disk Storage (1.6ms) [0m[32mUploaded file to key: xd5wm3xagj8gn27xc2nbtnu4sr06 (checksum: 4gNNhOvXX/HsLMq8QuWMMw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 2ddc3e12-7e05-4189-9a45-77a1a0dcb707) to Async(default) with arguments: #<GlobalID:0x00007ffa02404350 @uri=#<URI::GID gid://react-rails-api-project-template/ActiveStorage::Blob/1>>
[active_model_serializers]   [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "plays" WHERE "plays"."meditation_id" = $1[0m  [["meditation_id", 1]]
[active_model_serializers]   ↳ app/serializers/meditation_serializer.rb:9:in `listens'
[active_model_serializers]   [1m[36mFavorite Load (1.8ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."meditation_id" = $1[0m  [["meditation_id", 1]]
[active_model_serializers]   ↳ app/controllers/meditations_controller.rb:17:in `create'
[active_model_serializers]   [1m[36mMeditation Load (0.6ms)[0m  [1m[34mSELECT "meditations".* FROM "meditations" WHERE "meditations"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/serializers/teacher_index_serializer.rb:5:in `med_number'
[active_model_serializers]   [1m[36mPlay Load (1.9ms)[0m  [1m[34mSELECT "plays".* FROM "plays" WHERE "plays"."meditation_id" = $1[0m  [["meditation_id", 1]]
[active_model_serializers]   ↳ app/serializers/teacher_index_serializer.rb:9:in `block in total_listens'
[active_model_serializers] Rendered MeditationSerializer with ActiveModelSerializers::Adapter::Attributes (42.81ms)
Completed 200 OK in 185ms (Views: 35.1ms | ActiveRecord: 41.5ms | Allocations: 35626)


  [1m[36mActiveStorage::Blob Load (1.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [2ddc3e12-7e05-4189-9a45-77a1a0dcb707] Performing ActiveStorage::AnalyzeJob (Job ID: 2ddc3e12-7e05-4189-9a45-77a1a0dcb707) from Async(default) enqueued at 2021-09-05T12:22:20Z with arguments: #<GlobalID:0x00007ffa0227efd0 @uri=#<URI::GID gid://react-rails-api-project-template/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [2ddc3e12-7e05-4189-9a45-77a1a0dcb707] [36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: xd5wm3xagj8gn27xc2nbtnu4sr06[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [2ddc3e12-7e05-4189-9a45-77a1a0dcb707] Skipping video analysis because FFmpeg isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [2ddc3e12-7e05-4189-9a45-77a1a0dcb707]   [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [2ddc3e12-7e05-4189-9a45-77a1a0dcb707]   [1m[36mActiveStorage::Blob Update (2.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [2ddc3e12-7e05-4189-9a45-77a1a0dcb707]   [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [2ddc3e12-7e05-4189-9a45-77a1a0dcb707] Performed ActiveStorage::AnalyzeJob (Job ID: 2ddc3e12-7e05-4189-9a45-77a1a0dcb707) from Async(default) in 35.04ms
Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--09c9ebeaf384bfe85d7d97027d4fed67e9242ea1/blob" for ::1 at 2021-09-05 07:22:26 -0500
Processing by ActiveStorage::Blobs::RedirectController#show as */*
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--09c9ebeaf384bfe85d7d97027d4fed67e9242ea1", "filename"=>"blob"}
  [1m[36mActiveStorage::Blob Load (1.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[36m  Disk Storage (1.1ms) [0m[34mGenerated URL for file at key: xd5wm3xagj8gn27xc2nbtnu4sr06 (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhlR1ExZDIwemVHRm5hamhuYmpJM2VHTXlibUowYm5VMGMzSXdOZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTjJGMGRHRmphRzFsYm5RN0lHWnBiR1Z1WVcxbFBTSmliRzlpSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkaWJHOWlCanNHVkRvUlkyOXVkR1Z1ZEY5MGVYQmxTU0lQZG1sa1pXOHZkMlZpYlFZN0JsUTZFWE5sY25acFkyVmZibUZ0WlRvS2JHOWpZV3c9IiwiZXhwIjoiMjAyMS0wOS0wNVQxMjoyNzoyNi43NzBaIiwicHVyIjoiYmxvYl9rZXkifX0=--23bd01e16aa8e144a5fe825c770b17b21a839d5c/blob)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhlR1ExZDIwemVHRm5hamhuYmpJM2VHTXlibUowYm5VMGMzSXdOZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTjJGMGRHRmphRzFsYm5RN0lHWnBiR1Z1WVcxbFBTSmliRzlpSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkaWJHOWlCanNHVkRvUlkyOXVkR1Z1ZEY5MGVYQmxTU0lQZG1sa1pXOHZkMlZpYlFZN0JsUTZFWE5sY25acFkyVmZibUZ0WlRvS2JHOWpZV3c9IiwiZXhwIjoiMjAyMS0wOS0wNVQxMjoyNzoyNi43NzBaIiwicHVyIjoiYmxvYl9rZXkifX0=--23bd01e16aa8e144a5fe825c770b17b21a839d5c/blob
Completed 302 Found in 25ms (ActiveRecord: 1.1ms | Allocations: 2653)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhlR1ExZDIwemVHRm5hamhuYmpJM2VHTXlibUowYm5VMGMzSXdOZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTjJGMGRHRmphRzFsYm5RN0lHWnBiR1Z1WVcxbFBTSmliRzlpSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkaWJHOWlCanNHVkRvUlkyOXVkR1Z1ZEY5MGVYQmxTU0lQZG1sa1pXOHZkMlZpYlFZN0JsUTZFWE5sY25acFkyVmZibUZ0WlRvS2JHOWpZV3c9IiwiZXhwIjoiMjAyMS0wOS0wNVQxMjoyNzoyNi43NzBaIiwicHVyIjoiYmxvYl9rZXkifX0=--23bd01e16aa8e144a5fe825c770b17b21a839d5c/blob" for ::1 at 2021-09-05 07:22:26 -0500
Processing by ActiveStorage::DiskController#show as */*
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"blob"}
Completed 206 Partial Content in 1ms (ActiveRecord: 0.0ms | Allocations: 227)


Started DELETE "/meditations/1" for 127.0.0.1 at 2021-09-05 07:22:37 -0500
Processing by MeditationsController#destroy as JSON
  Parameters: {"_json"=>"", "id"=>"1", "meditation"=>{}}
  [1m[36mMeditation Load (0.8ms)[0m  [1m[34mSELECT "meditations".* FROM "meditations" WHERE "meditations"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/meditations_controller.rb:30:in `destroy'
  [1m[36mTeacher Load (0.6ms)[0m  [1m[34mSELECT "teachers".* FROM "teachers" WHERE "teachers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/meditations_controller.rb:31:in `destroy'
  [1m[36mMeditation Load (0.4ms)[0m  [1m[34mSELECT "meditations".* FROM "meditations" WHERE "meditations"."teacher_id" = $1[0m  [["teacher_id", 1]]
  ↳ app/controllers/meditations_controller.rb:31:in `destroy'
  [1m[36mMeditation Load (0.4ms)[0m  [1m[34mSELECT "meditations".* FROM "meditations" WHERE "meditations"."teacher_id" = $1 ORDER BY "meditations"."created_at" DESC[0m  [["teacher_id", 1]]
  ↳ app/controllers/meditations_controller.rb:32:in `destroy'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/meditations_controller.rb:33:in `destroy'
  [1m[36mPlay Load (0.5ms)[0m  [1m[34mSELECT "plays".* FROM "plays" WHERE "plays"."meditation_id" = $1[0m  [["meditation_id", 1]]
  ↳ app/controllers/meditations_controller.rb:33:in `destroy'
  [1m[36mActiveStorage::Attachment Load (1.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Meditation"], ["name", "audio_file"], ["LIMIT", 1]]
  ↳ app/controllers/meditations_controller.rb:33:in `destroy'
  [1m[36mActiveStorage::Attachment Destroy (0.5ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/meditations_controller.rb:33:in `destroy'
  [1m[36mMeditation Destroy (0.4ms)[0m  [1m[31mDELETE FROM "meditations" WHERE "meditations"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/meditations_controller.rb:33:in `destroy'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/meditations_controller.rb:33:in `destroy'
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/meditations_controller.rb:33:in `destroy'
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 030bc8bf-cab1-4e1a-8ad2-5b0877a3b0f9) to Async(default) with arguments: #<GlobalID:0x00007ffa03030480 @uri=#<URI::GID gid://react-rails-api-project-template/ActiveStorage::Blob/1>>
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Completed 200 OK in 47ms (Views: 2.4ms | ActiveRecord: 6.0ms | Allocations: 7739)


  [1m[36mActiveStorage::Blob Load (1.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [030bc8bf-cab1-4e1a-8ad2-5b0877a3b0f9] Performing ActiveStorage::PurgeJob (Job ID: 030bc8bf-cab1-4e1a-8ad2-5b0877a3b0f9) from Async(default) enqueued at 2021-09-05T12:22:37Z with arguments: #<GlobalID:0x00007ffa01319d88 @uri=#<URI::GID gid://react-rails-api-project-template/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::PurgeJob] [030bc8bf-cab1-4e1a-8ad2-5b0877a3b0f9]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::PurgeJob] [030bc8bf-cab1-4e1a-8ad2-5b0877a3b0f9]   [1m[36mActiveStorage::Attachment Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = $1 LIMIT $2[0m  [["blob_id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [030bc8bf-cab1-4e1a-8ad2-5b0877a3b0f9]   [1m[36mActiveStorage::VariantRecord Load (1.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1[0m  [["blob_id", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [030bc8bf-cab1-4e1a-8ad2-5b0877a3b0f9]   [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [030bc8bf-cab1-4e1a-8ad2-5b0877a3b0f9]   [1m[36mActiveStorage::Blob Destroy (1.0ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1[0m  [["id", 1]]
[ActiveJob] [ActiveStorage::PurgeJob] [030bc8bf-cab1-4e1a-8ad2-5b0877a3b0f9]   [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::PurgeJob] [030bc8bf-cab1-4e1a-8ad2-5b0877a3b0f9] [36m  Disk Storage (0.3ms) [0m[31mDeleted file from key: xd5wm3xagj8gn27xc2nbtnu4sr06[0m
[ActiveJob] [ActiveStorage::PurgeJob] [030bc8bf-cab1-4e1a-8ad2-5b0877a3b0f9] Performed ActiveStorage::PurgeJob (Job ID: 030bc8bf-cab1-4e1a-8ad2-5b0877a3b0f9) from Async(default) in 31.45ms
Started GET "/" for ::1 at 2023-06-20 12:05:29 -0400
  
ActiveRecord::ConnectionNotEstablished (could not connect to server: No such file or directory
	Is the server running locally and accepting
	connections on Unix domain socket "/var/run/postgresql/.s.PGSQL.5432"?
):
  
activerecord (6.1.3.2) lib/active_record/connection_adapters/postgresql_adapter.rb:83:in `rescue in new_client'
activerecord (6.1.3.2) lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
activerecord (6.1.3.2) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
activerecord (6.1.3.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:882:in `public_send'
activerecord (6.1.3.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:882:in `new_connection'
activerecord (6.1.3.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:926:in `checkout_new_connection'
activerecord (6.1.3.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:905:in `try_to_checkout_new_connection'
activerecord (6.1.3.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:866:in `acquire_connection'
activerecord (6.1.3.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:588:in `checkout'
activerecord (6.1.3.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:428:in `connection'
activerecord (6.1.3.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:1128:in `retrieve_connection'
activerecord (6.1.3.2) lib/active_record/connection_handling.rb:327:in `retrieve_connection'
activerecord (6.1.3.2) lib/active_record/connection_handling.rb:283:in `connection'
activerecord (6.1.3.2) lib/active_record/migration.rb:611:in `connection'
activerecord (6.1.3.2) lib/active_record/migration.rb:606:in `build_watcher'
activerecord (6.1.3.2) lib/active_record/migration.rb:588:in `block in call'
activerecord (6.1.3.2) lib/active_record/migration.rb:587:in `synchronize'
activerecord (6.1.3.2) lib/active_record/migration.rb:587:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.1.3.2) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (6.1.3.2) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.1.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.1.3.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.1.3.2) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (6.1.3.2) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (6.1.3.2) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (6.1.3.2) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.1.3.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/static.rb:24:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/host_authorization.rb:98:in `call'
railties (6.1.3.2) lib/rails/engine.rb:539:in `call'
puma (5.3.2) lib/puma/configuration.rb:249:in `call'
puma (5.3.2) lib/puma/request.rb:77:in `block in handle_request'
puma (5.3.2) lib/puma/thread_pool.rb:338:in `with_force_shutdown'
puma (5.3.2) lib/puma/request.rb:76:in `handle_request'
puma (5.3.2) lib/puma/server.rb:438:in `process_client'
puma (5.3.2) lib/puma/thread_pool.rb:145:in `block in spawn_thread'
Started GET "/favicon.ico" for ::1 at 2023-06-20 12:05:30 -0400
  
ActiveRecord::ConnectionNotEstablished (could not connect to server: No such file or directory
	Is the server running locally and accepting
	connections on Unix domain socket "/var/run/postgresql/.s.PGSQL.5432"?
):
  
activerecord (6.1.3.2) lib/active_record/connection_adapters/postgresql_adapter.rb:83:in `rescue in new_client'
activerecord (6.1.3.2) lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
activerecord (6.1.3.2) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
activerecord (6.1.3.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:882:in `public_send'
activerecord (6.1.3.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:882:in `new_connection'
activerecord (6.1.3.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:926:in `checkout_new_connection'
activerecord (6.1.3.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:905:in `try_to_checkout_new_connection'
activerecord (6.1.3.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:866:in `acquire_connection'
activerecord (6.1.3.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:588:in `checkout'
activerecord (6.1.3.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:428:in `connection'
activerecord (6.1.3.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:1128:in `retrieve_connection'
activerecord (6.1.3.2) lib/active_record/connection_handling.rb:327:in `retrieve_connection'
activerecord (6.1.3.2) lib/active_record/connection_handling.rb:283:in `connection'
activerecord (6.1.3.2) lib/active_record/migration.rb:611:in `connection'
activerecord (6.1.3.2) lib/active_record/migration.rb:606:in `build_watcher'
activerecord (6.1.3.2) lib/active_record/migration.rb:588:in `block in call'
activerecord (6.1.3.2) lib/active_record/migration.rb:587:in `synchronize'
activerecord (6.1.3.2) lib/active_record/migration.rb:587:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.1.3.2) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (6.1.3.2) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.1.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.1.3.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.1.3.2) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (6.1.3.2) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (6.1.3.2) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (6.1.3.2) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.1.3.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/static.rb:24:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/host_authorization.rb:98:in `call'
railties (6.1.3.2) lib/rails/engine.rb:539:in `call'
puma (5.3.2) lib/puma/configuration.rb:249:in `call'
puma (5.3.2) lib/puma/request.rb:77:in `block in handle_request'
puma (5.3.2) lib/puma/thread_pool.rb:338:in `with_force_shutdown'
puma (5.3.2) lib/puma/request.rb:76:in `handle_request'
puma (5.3.2) lib/puma/server.rb:438:in `process_client'
puma (5.3.2) lib/puma/thread_pool.rb:145:in `block in spawn_thread'
  [1m[35m (17.1ms)[0m  [1m[35mCREATE DATABASE "test-dev" ENCODING = 'unicode'[0m
  [1m[35m (659.3ms)[0m  [1m[35mCREATE DATABASE "test-dev" ENCODING = 'unicode'[0m
  [1m[35m (267.4ms)[0m  [1m[35mCREATE DATABASE "react_rails_api_project_template_test" ENCODING = 'unicode'[0m
Started GET "/" for ::1 at 2023-06-20 14:31:02 -0400
  [1m[35m (130.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (19.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 13 pending migrations:

20210809182104_create_active_storage_tables.active_storage.rb
20210809184237_create_students.rb
20210809184243_create_teachers.rb
20210809185615_create_meditations.rb
20210809190223_create_plays.rb
20210812140017_create_follows.rb
20210813155149_create_messages.rb
20210813161330_create_chats.rb
20210813173823_add_username_to_messages.rb
20210814142147_add_opt_in_and_follow_message_to_teacher.rb
20210814155100_create_favorites.rb
20210816155227_create_donations.rb
20210816160506_add_username_to_donation.rb


):
  
activerecord (6.1.3.2) lib/active_record/migration.rb:625:in `check_pending!'
activerecord (6.1.3.2) lib/active_record/migration.rb:590:in `block (2 levels) in call'
activesupport (6.1.3.2) lib/active_support/evented_file_update_checker.rb:59:in `execute'
activerecord (6.1.3.2) lib/active_record/migration.rb:595:in `block in call'
activerecord (6.1.3.2) lib/active_record/migration.rb:587:in `synchronize'
activerecord (6.1.3.2) lib/active_record/migration.rb:587:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.1.3.2) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (6.1.3.2) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.1.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.1.3.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.1.3.2) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (6.1.3.2) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (6.1.3.2) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (6.1.3.2) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.1.3.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/static.rb:24:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/host_authorization.rb:98:in `call'
railties (6.1.3.2) lib/rails/engine.rb:539:in `call'
puma (5.3.2) lib/puma/configuration.rb:249:in `call'
puma (5.3.2) lib/puma/request.rb:77:in `block in handle_request'
puma (5.3.2) lib/puma/thread_pool.rb:338:in `with_force_shutdown'
puma (5.3.2) lib/puma/request.rb:76:in `handle_request'
puma (5.3.2) lib/puma/server.rb:438:in `process_client'
puma (5.3.2) lib/puma/thread_pool.rb:145:in `block in spawn_thread'
Started GET "/favicon.ico" for ::1 at 2023-06-20 14:31:04 -0400
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 13 pending migrations:

20210809182104_create_active_storage_tables.active_storage.rb
20210809184237_create_students.rb
20210809184243_create_teachers.rb
20210809185615_create_meditations.rb
20210809190223_create_plays.rb
20210812140017_create_follows.rb
20210813155149_create_messages.rb
20210813161330_create_chats.rb
20210813173823_add_username_to_messages.rb
20210814142147_add_opt_in_and_follow_message_to_teacher.rb
20210814155100_create_favorites.rb
20210816155227_create_donations.rb
20210816160506_add_username_to_donation.rb


):
  
activerecord (6.1.3.2) lib/active_record/migration.rb:625:in `check_pending!'
activerecord (6.1.3.2) lib/active_record/migration.rb:590:in `block (2 levels) in call'
activesupport (6.1.3.2) lib/active_support/evented_file_update_checker.rb:59:in `execute'
activerecord (6.1.3.2) lib/active_record/migration.rb:595:in `block in call'
activerecord (6.1.3.2) lib/active_record/migration.rb:587:in `synchronize'
activerecord (6.1.3.2) lib/active_record/migration.rb:587:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.1.3.2) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (6.1.3.2) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.1.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.1.3.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.1.3.2) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (6.1.3.2) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (6.1.3.2) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (6.1.3.2) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.1.3.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/static.rb:24:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.1.3.2) lib/action_dispatch/middleware/host_authorization.rb:98:in `call'
railties (6.1.3.2) lib/rails/engine.rb:539:in `call'
puma (5.3.2) lib/puma/configuration.rb:249:in `call'
puma (5.3.2) lib/puma/request.rb:77:in `block in handle_request'
puma (5.3.2) lib/puma/thread_pool.rb:338:in `with_force_shutdown'
puma (5.3.2) lib/puma/request.rb:76:in `handle_request'
puma (5.3.2) lib/puma/server.rb:438:in `process_client'
puma (5.3.2) lib/puma/thread_pool.rb:145:in `block in spawn_thread'
  [1m[35m (8.7ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5829857810305014465)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateActiveStorageTables (20210809182104)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (23.8ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "service_name" character varying NOT NULL, "byte_size" bigint NOT NULL, "checksum" character varying NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (26.0ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (22.8ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (21.9ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" bigserial primary key, "blob_id" bigint NOT NULL, "variation_digest" character varying NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (5.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210809182104"]]
  [1m[36mTRANSACTION (13.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateStudents (20210809184237)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (10.1ms)[0m  [1m[35mCREATE TABLE "students" ("id" bigserial primary key, "name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210809184237"]]
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTeachers (20210809184243)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (32.0ms)[0m  [1m[35mCREATE TABLE "teachers" ("id" bigserial primary key, "name" character varying, "email" character varying, "password_digest" character varying, "background" text, "image_url" text DEFAULT 'https://clipground.com/images/avatar-clipart-free-6.png', "income" decimal DEFAULT 0.0, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210809184243"]]
  [1m[36mTRANSACTION (5.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMeditations (20210809185615)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (13.0ms)[0m  [1m[35mCREATE TABLE "meditations" ("id" bigserial primary key, "med_type" character varying, "title" character varying, "description" text, "est_length" integer, "teacher_id" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210809185615"]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePlays (20210809190223)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.8ms)[0m  [1m[35mCREATE TABLE "plays" ("id" bigserial primary key, "student_id" integer, "meditation_id" integer, "length" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210809190223"]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateFollows (20210812140017)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.3ms)[0m  [1m[35mCREATE TABLE "follows" ("id" bigserial primary key, "student_id" integer, "teacher_id" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210812140017"]]
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessages (20210813155149)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (16.4ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "content" text, "student_id" integer, "teacher_id" integer, "chat_id" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210813155149"]]
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateChats (20210813161330)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (10.7ms)[0m  [1m[35mCREATE TABLE "chats" ("id" bigserial primary key, "title" character varying, "student_id" integer, "teacher_id" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210813161330"]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddUsernameToMessages (20210813173823)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "messages" ADD "username" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210813173823"]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddOptInAndFollowMessageToTeacher (20210814142147)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "teachers" ADD "opt_in" boolean DEFAULT FALSE[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "teachers" ADD "follow_message" text[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210814142147"]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateFavorites (20210814155100)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.8ms)[0m  [1m[35mCREATE TABLE "favorites" ("id" bigserial primary key, "meditation_id" integer, "student_id" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210814155100"]]
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDonations (20210816155227)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (16.8ms)[0m  [1m[35mCREATE TABLE "donations" ("id" bigserial primary key, "student_id" integer, "teacher_id" integer, "amount" decimal, "message" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210816155227"]]
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddUsernameToDonation (20210816160506)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "donations" ADD "username" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210816160506"]]
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-06-20 18:31:23.265291"], ["updated_at", "2023-06-20 18:31:23.265291"]]
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(5829857810305014465)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/teachers" for ::1 at 2023-06-20 14:31:51 -0400
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TeachersController#index as HTML
[active_model_serializers] Rendered TeacherIndexSerializer with ActiveModelSerializers::Adapter::Attributes (2.48ms)
Completed 500 Internal Server Error in 308ms (ActiveRecord: 0.0ms | Allocations: 8544)


  
NoMethodError (undefined method `model_name' for TeacherIndexSerializer:Class
Did you mean?  module_parent):
  
app/controllers/teachers_controller.rb:6:in `index'
Started GET "/favicon.ico" for ::1 at 2023-06-20 14:31:52 -0400
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5829857810305014465)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddUsernameToDonation (20210816160506)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (27.8ms)[0m  [1m[35mALTER TABLE "donations" DROP COLUMN "username"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.8ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20210816160506"]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(5829857810305014465)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5829857810305014465)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddUsernameToDonation (20210816160506)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "donations" ADD "username" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210816160506"]]
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(5829857810305014465)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/log_in" for 127.0.0.1 at 2023-06-20 15:47:19 -0400
  [1m[35m (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LogInController#create as JSON
  Parameters: {"email"=>"guest", "password"=>"[FILTERED]", "type"=>"teacher", "log_in"=>{"email"=>"guest", "password"=>"[FILTERED]", "type"=>"teacher"}}
  [1m[36mTeacher Load (2.2ms)[0m  [1m[34mSELECT "teachers".* FROM "teachers" WHERE "teachers"."email" = $1 LIMIT $2[0m  [["email", "guest"], ["LIMIT", 1]]
  ↳ app/controllers/log_in_controller.rb:8:in `create'
Completed 500 Internal Server Error in 160ms (ActiveRecord: 19.3ms | Allocations: 8135)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/log_in_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTeacher Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "teachers" WHERE "teachers"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (20.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTeacher Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "teachers" WHERE "teachers"."email" = $1 LIMIT $2[0m  [["email", "guest"], ["LIMIT", 1]]
  [1m[36mTeacher Create (106.4ms)[0m  [1m[32mINSERT INTO "teachers" ("email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "guest"], ["password_digest", "$2a$12$DL6SjZweg.srjNhQk69Cs.jNEgG4My/a3SFfhNVzVLIEIRylIoqhi"], ["created_at", "2023-06-20 19:49:05.155632"], ["updated_at", "2023-06-20 19:49:05.155632"]]
  [1m[36mTRANSACTION (26.7ms)[0m  [1m[35mCOMMIT[0m
Started POST "/log_in" for 127.0.0.1 at 2023-06-20 15:49:08 -0400
Processing by LogInController#create as JSON
  Parameters: {"email"=>"guest", "password"=>"[FILTERED]", "type"=>"teacher", "log_in"=>{"email"=>"guest", "password"=>"[FILTERED]", "type"=>"teacher"}}
  [1m[36mTeacher Load (0.6ms)[0m  [1m[34mSELECT "teachers".* FROM "teachers" WHERE "teachers"."email" = $1 LIMIT $2[0m  [["email", "guest"], ["LIMIT", 1]]
  ↳ app/controllers/log_in_controller.rb:8:in `create'
[active_model_serializers]   [1m[36mMeditation Load (0.6ms)[0m  [1m[34mSELECT "meditations".* FROM "meditations" WHERE "meditations"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/serializers/teacher_serializer.rb:43:in `last_med'
[active_model_serializers]   [1m[35m (53.0ms)[0m  [1m[34mSELECT SUM("donations"."amount") FROM "donations" WHERE "donations"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/serializers/teacher_serializer.rb:19:in `total_income'
[active_model_serializers]   [1m[36mDonation Load (0.3ms)[0m  [1m[34mSELECT "donations".* FROM "donations" WHERE "donations"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/serializers/teacher_serializer.rb:23:in `most_donated_student'
[active_model_serializers]   [1m[36mFollow Load (0.6ms)[0m  [1m[34mSELECT "follows".* FROM "follows" WHERE "follows"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/controllers/log_in_controller.rb:12:in `create'
[active_model_serializers]   [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/controllers/log_in_controller.rb:12:in `create'
[active_model_serializers] Rendered TeacherSerializer with ActiveModelSerializers::Adapter::Attributes (642.89ms)
Completed 200 OK in 1159ms (Views: 813.8ms | ActiveRecord: 74.5ms | Allocations: 24084)


  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mStudent Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = $1 LIMIT $2[0m  [["email", "guestS"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTeacher Load (0.3ms)[0m  [1m[34mSELECT "teachers".* FROM "teachers" ORDER BY "teachers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mStudent Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = $1 LIMIT $2[0m  [["email", "guestS"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mStudent Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = $1 LIMIT $2[0m  [["email", "guestS"], ["LIMIT", 1]]
  [1m[36mStudent Create (2.4ms)[0m  [1m[32mINSERT INTO "students" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "student"], ["email", "guestS"], ["password_digest", "$2a$12$I/YYh7oBlXxQ6jHWugBYCOsJ93WeuaW6rN4HemX3iR8pguPEA.FE."], ["created_at", "2023-06-20 19:52:04.863596"], ["updated_at", "2023-06-20 19:52:04.863596"]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
Started DELETE "/log_in" for 127.0.0.1 at 2023-06-20 15:52:19 -0400
Processing by LogInController#destroy as JSON
  Parameters: {"_json"=>"", "log_in"=>{"_json"=>""}}
Completed 204 No Content in 11ms (ActiveRecord: 0.0ms | Allocations: 183)


Started POST "/log_in" for 127.0.0.1 at 2023-06-20 15:52:20 -0400
Processing by LogInController#create as JSON
  Parameters: {"email"=>"guestS", "password"=>"[FILTERED]", "type"=>"student", "log_in"=>{"email"=>"guestS", "password"=>"[FILTERED]", "type"=>"student"}}
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = $1 LIMIT $2[0m  [["email", "guestS"], ["LIMIT", 1]]
  ↳ app/controllers/log_in_controller.rb:5:in `create'
[active_model_serializers]   [1m[36mPlay Load (0.5ms)[0m  [1m[34mSELECT "plays".* FROM "plays" WHERE "plays"."student_id" = $1[0m  [["student_id", 1]]
[active_model_serializers]   ↳ app/serializers/student_serializer.rb:53:in `plays_id'
[active_model_serializers]   [1m[36mMeditation Load (0.3ms)[0m  [1m[34mSELECT "meditations".* FROM "meditations"[0m
[active_model_serializers]   ↳ app/serializers/student_serializer.rb:47:in `max_by'
[active_model_serializers]   [1m[35m (0.3ms)[0m  [1m[34mSELECT SUM("plays"."length") FROM "plays" WHERE "plays"."student_id" = $1[0m  [["student_id", 1]]
[active_model_serializers]   ↳ app/serializers/student_serializer.rb:14:in `total_time'
[active_model_serializers]   [1m[36mPlay Load (14.6ms)[0m  [1m[34mSELECT "plays".* FROM "plays" WHERE "plays"."student_id" = $1 ORDER BY "plays"."created_at" DESC LIMIT $2[0m  [["student_id", 1], ["LIMIT", 5]]
[active_model_serializers]   ↳ app/serializers/student_serializer.rb:19:in `collect'
[active_model_serializers]   [1m[35m (0.3ms)[0m  [1m[34mSELECT SUM("donations"."amount") FROM "donations" WHERE "donations"."student_id" = $1[0m  [["student_id", 1]]
[active_model_serializers]   ↳ app/serializers/student_serializer.rb:23:in `total_donations'
[active_model_serializers]   [1m[36mDonation Load (0.4ms)[0m  [1m[34mSELECT "donations".* FROM "donations" WHERE "donations"."student_id" = $1[0m  [["student_id", 1]]
[active_model_serializers]   ↳ app/serializers/student_serializer.rb:27:in `most_donated_teacher'
[active_model_serializers]   [1m[36mFollow Load (0.3ms)[0m  [1m[34mSELECT "follows".* FROM "follows" WHERE "follows"."student_id" = $1[0m  [["student_id", 1]]
[active_model_serializers]   ↳ app/controllers/log_in_controller.rb:12:in `create'
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."student_id" = $1[0m  [["student_id", 1]]
[active_model_serializers]   ↳ app/controllers/log_in_controller.rb:12:in `create'
[active_model_serializers]   [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."student_id" = $1[0m  [["student_id", 1]]
[active_model_serializers]   ↳ app/controllers/log_in_controller.rb:12:in `create'
[active_model_serializers] Rendered StudentSerializer with ActiveModelSerializers::Adapter::Attributes (113.5ms)
Completed 200 OK in 465ms (Views: 127.7ms | ActiveRecord: 23.6ms | Allocations: 17146)


Started GET "/meditations" for 127.0.0.1 at 2023-06-20 15:52:30 -0400
Processing by MeditationsController#index as */*
  [1m[36mMeditation Load (0.5ms)[0m  [1m[34mSELECT "meditations".* FROM "meditations"[0m
  ↳ app/controllers/meditations_controller.rb:7:in `index'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (0.08ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.5ms | Allocations: 774)


Started DELETE "/log_in" for 127.0.0.1 at 2023-06-20 15:52:42 -0400
Processing by LogInController#destroy as JSON
  Parameters: {"_json"=>"", "log_in"=>{"_json"=>""}}
Completed 204 No Content in 1ms (ActiveRecord: 0.0ms | Allocations: 174)


Started POST "/log_in" for 127.0.0.1 at 2023-06-20 15:52:43 -0400
Processing by LogInController#create as JSON
  Parameters: {"email"=>"guest", "password"=>"[FILTERED]", "type"=>"teacher", "log_in"=>{"email"=>"guest", "password"=>"[FILTERED]", "type"=>"teacher"}}
  [1m[36mTeacher Load (0.4ms)[0m  [1m[34mSELECT "teachers".* FROM "teachers" WHERE "teachers"."email" = $1 LIMIT $2[0m  [["email", "guest"], ["LIMIT", 1]]
  ↳ app/controllers/log_in_controller.rb:8:in `create'
[active_model_serializers]   [1m[36mMeditation Load (0.3ms)[0m  [1m[34mSELECT "meditations".* FROM "meditations" WHERE "meditations"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/serializers/teacher_serializer.rb:43:in `last_med'
[active_model_serializers]   [1m[35m (0.3ms)[0m  [1m[34mSELECT SUM("donations"."amount") FROM "donations" WHERE "donations"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/serializers/teacher_serializer.rb:19:in `total_income'
[active_model_serializers]   [1m[36mDonation Load (0.3ms)[0m  [1m[34mSELECT "donations".* FROM "donations" WHERE "donations"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/serializers/teacher_serializer.rb:23:in `most_donated_student'
[active_model_serializers]   [1m[36mFollow Load (0.3ms)[0m  [1m[34mSELECT "follows".* FROM "follows" WHERE "follows"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/controllers/log_in_controller.rb:12:in `create'
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/controllers/log_in_controller.rb:12:in `create'
[active_model_serializers] Rendered TeacherSerializer with ActiveModelSerializers::Adapter::Attributes (13.51ms)
Completed 200 OK in 264ms (Views: 12.9ms | ActiveRecord: 1.9ms | Allocations: 4637)


Started POST "/meditations" for 127.0.0.1 at 2023-06-20 15:53:37 -0400
Processing by MeditationsController#create as HTML
  Parameters: {"title"=>"blorb", "description"=>"words", "med_type"=>"Breath", "est_length"=>"1", "audio_file"=>#<ActionDispatch::Http::UploadedFile:0x00007f29fc452e00 @tempfile=#<Tempfile:/tmp/RackMultipart20230620-31088-1mvgv40>, @original_filename="blob", @content_type="audio/webm;codecs=opus", @headers="Content-Disposition: form-data; name=\"audio_file\"; filename=\"blob\"\r\nContent-Type: audio/webm;codecs=opus\r\n">, "teacher_id"=>"1"}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/meditations_controller.rb:16:in `create'
  [1m[36mTeacher Load (0.4ms)[0m  [1m[34mSELECT "teachers".* FROM "teachers" WHERE "teachers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/meditations_controller.rb:16:in `create'
  [1m[36mMeditation Create (10.3ms)[0m  [1m[32mINSERT INTO "meditations" ("med_type", "title", "description", "est_length", "teacher_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["med_type", "Breath"], ["title", "blorb"], ["description", "words"], ["est_length", 1], ["teacher_id", 1], ["created_at", "2023-06-20 19:53:38.873681"], ["updated_at", "2023-06-20 19:53:38.873681"]]
  ↳ app/controllers/meditations_controller.rb:16:in `create'
  [1m[36mActiveStorage::Attachment Load (1.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Meditation"], ["name", "audio_file"], ["LIMIT", 1]]
  ↳ app/controllers/meditations_controller.rb:16:in `create'
  [1m[36mActiveStorage::Blob Create (1.8ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "5a2g7a292wgdhu3m26hxwyttgaks"], ["filename", "blob"], ["content_type", "video/webm"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 47121], ["checksum", "0KC596LEaAmWIEjC26OaYQ=="], ["created_at", "2023-06-20 19:53:38.915123"]]
  ↳ app/controllers/meditations_controller.rb:16:in `create'
  [1m[36mActiveStorage::Attachment Create (81.5ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "audio_file"], ["record_type", "Meditation"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-06-20 19:53:38.923155"]]
  ↳ app/controllers/meditations_controller.rb:16:in `create'
  [1m[36mMeditation Update (0.8ms)[0m  [1m[33mUPDATE "meditations" SET "updated_at" = $1 WHERE "meditations"."id" = $2[0m  [["updated_at", "2023-06-20 19:53:39.009399"], ["id", 1]]
  ↳ app/controllers/meditations_controller.rb:16:in `create'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/meditations_controller.rb:16:in `create'
[36m  Disk Storage (22.1ms) [0m[32mUploaded file to key: 5a2g7a292wgdhu3m26hxwyttgaks (checksum: 0KC596LEaAmWIEjC26OaYQ==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: f1aca7cd-2ff2-4e66-8dcd-2fb61e621e8f) to Async(default) with arguments: #<GlobalID:0x000055a0a0eaee30 @uri=#<URI::GID gid://react-rails-api-project-template/ActiveStorage::Blob/1>>
[active_model_serializers]   [1m[35m (46.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "plays" WHERE "plays"."meditation_id" = $1[0m  [["meditation_id", 1]]
[active_model_serializers]   ↳ app/serializers/meditation_serializer.rb:8:in `listens'
[active_model_serializers]   [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."meditation_id" = $1[0m  [["meditation_id", 1]]
[active_model_serializers]   ↳ app/controllers/meditations_controller.rb:17:in `create'
[active_model_serializers]   [1m[36mMeditation Load (1.6ms)[0m  [1m[34mSELECT "meditations".* FROM "meditations" WHERE "meditations"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/serializers/teacher_index_serializer.rb:5:in `med_number'
[active_model_serializers]   [1m[36mPlay Load (0.5ms)[0m  [1m[34mSELECT "plays".* FROM "plays" WHERE "plays"."meditation_id" = $1[0m  [["meditation_id", 1]]
[active_model_serializers]   ↳ app/serializers/teacher_index_serializer.rb:9:in `block in total_listens'
[active_model_serializers] Rendered MeditationSerializer with ActiveModelSerializers::Adapter::Attributes (84.5ms)
  [1m[36mActiveStorage::Blob Load (2.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 1038ms (Views: 69.8ms | ActiveRecord: 158.7ms | Allocations: 34971)


[ActiveJob] [ActiveStorage::AnalyzeJob] [f1aca7cd-2ff2-4e66-8dcd-2fb61e621e8f] Performing ActiveStorage::AnalyzeJob (Job ID: f1aca7cd-2ff2-4e66-8dcd-2fb61e621e8f) from Async(default) enqueued at 2023-06-20T19:53:39Z with arguments: #<GlobalID:0x000055a0a1807478 @uri=#<URI::GID gid://react-rails-api-project-template/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [f1aca7cd-2ff2-4e66-8dcd-2fb61e621e8f] [36m  Disk Storage (3.9ms) [0m[34mDownloaded file from key: 5a2g7a292wgdhu3m26hxwyttgaks[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f1aca7cd-2ff2-4e66-8dcd-2fb61e621e8f] Skipping video analysis because FFmpeg isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [f1aca7cd-2ff2-4e66-8dcd-2fb61e621e8f]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f1aca7cd-2ff2-4e66-8dcd-2fb61e621e8f]   [1m[36mActiveStorage::Blob Update (0.7ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f1aca7cd-2ff2-4e66-8dcd-2fb61e621e8f]   [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f1aca7cd-2ff2-4e66-8dcd-2fb61e621e8f] Performed ActiveStorage::AnalyzeJob (Job ID: f1aca7cd-2ff2-4e66-8dcd-2fb61e621e8f) from Async(default) in 263.0ms
Started DELETE "/log_in" for 127.0.0.1 at 2023-06-20 15:53:51 -0400
Processing by LogInController#destroy as JSON
  Parameters: {"_json"=>"", "log_in"=>{"_json"=>""}}
Completed 204 No Content in 1ms (ActiveRecord: 0.0ms | Allocations: 174)


Started POST "/log_in" for 127.0.0.1 at 2023-06-20 15:53:52 -0400
Processing by LogInController#create as JSON
  Parameters: {"email"=>"guestS", "password"=>"[FILTERED]", "type"=>"student", "log_in"=>{"email"=>"guestS", "password"=>"[FILTERED]", "type"=>"student"}}
  [1m[36mStudent Load (0.6ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = $1 LIMIT $2[0m  [["email", "guestS"], ["LIMIT", 1]]
  ↳ app/controllers/log_in_controller.rb:5:in `create'
[active_model_serializers]   [1m[36mPlay Load (0.5ms)[0m  [1m[34mSELECT "plays".* FROM "plays" WHERE "plays"."student_id" = $1[0m  [["student_id", 1]]
[active_model_serializers]   ↳ app/serializers/student_serializer.rb:53:in `plays_id'
[active_model_serializers]   [1m[36mMeditation Load (0.6ms)[0m  [1m[34mSELECT "meditations".* FROM "meditations"[0m
[active_model_serializers]   ↳ app/serializers/student_serializer.rb:47:in `max_by'
[active_model_serializers]   [1m[36mPlay Load (0.4ms)[0m  [1m[34mSELECT "plays".* FROM "plays" WHERE "plays"."meditation_id" = $1[0m  [["meditation_id", 1]]
[active_model_serializers]   ↳ app/serializers/student_serializer.rb:47:in `block in most_pop_med'
[active_model_serializers]   [1m[35m (1.3ms)[0m  [1m[34mSELECT SUM("plays"."length") FROM "plays" WHERE "plays"."student_id" = $1[0m  [["student_id", 1]]
[active_model_serializers]   ↳ app/serializers/student_serializer.rb:14:in `total_time'
[active_model_serializers]   [1m[36mPlay Load (0.4ms)[0m  [1m[34mSELECT "plays".* FROM "plays" WHERE "plays"."student_id" = $1 ORDER BY "plays"."created_at" DESC LIMIT $2[0m  [["student_id", 1], ["LIMIT", 5]]
[active_model_serializers]   ↳ app/serializers/student_serializer.rb:19:in `collect'
[active_model_serializers]   [1m[35m (0.4ms)[0m  [1m[34mSELECT SUM("donations"."amount") FROM "donations" WHERE "donations"."student_id" = $1[0m  [["student_id", 1]]
[active_model_serializers]   ↳ app/serializers/student_serializer.rb:23:in `total_donations'
[active_model_serializers]   [1m[36mDonation Load (0.3ms)[0m  [1m[34mSELECT "donations".* FROM "donations" WHERE "donations"."student_id" = $1[0m  [["student_id", 1]]
[active_model_serializers]   ↳ app/serializers/student_serializer.rb:27:in `most_donated_teacher'
[active_model_serializers]   [1m[36mFollow Load (0.4ms)[0m  [1m[34mSELECT "follows".* FROM "follows" WHERE "follows"."student_id" = $1[0m  [["student_id", 1]]
[active_model_serializers]   ↳ app/controllers/log_in_controller.rb:12:in `create'
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."student_id" = $1[0m  [["student_id", 1]]
[active_model_serializers]   ↳ app/controllers/log_in_controller.rb:12:in `create'
[active_model_serializers]   [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."student_id" = $1[0m  [["student_id", 1]]
[active_model_serializers]   ↳ app/controllers/log_in_controller.rb:12:in `create'
[active_model_serializers]   [1m[36mTeacher Load (0.4ms)[0m  [1m[34mSELECT "teachers".* FROM "teachers" WHERE "teachers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/pop_serializer.rb:5:in `teacher_name'
[active_model_serializers] Rendered StudentSerializer with ActiveModelSerializers::Adapter::Attributes (87.03ms)
Completed 200 OK in 370ms (Views: 82.4ms | ActiveRecord: 6.1ms | Allocations: 8769)


Started GET "/meditations" for 127.0.0.1 at 2023-06-20 15:53:57 -0400
Processing by MeditationsController#index as */*
  [1m[36mMeditation Load (0.4ms)[0m  [1m[34mSELECT "meditations".* FROM "meditations"[0m
  ↳ app/controllers/meditations_controller.rb:7:in `index'
[active_model_serializers]   [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."meditation_id" = $1[0m  [["meditation_id", 1]]
[active_model_serializers]   ↳ app/controllers/meditations_controller.rb:7:in `index'
[active_model_serializers]   [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Meditation"], ["name", "audio_file"], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/meditation_serializer.rb:13:in `audio_file'
[active_model_serializers]   [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/meditation_serializer.rb:13:in `audio_file'
[active_model_serializers]   [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "plays" WHERE "plays"."meditation_id" = $1[0m  [["meditation_id", 1]]
[active_model_serializers]   ↳ app/serializers/meditation_serializer.rb:8:in `listens'
[active_model_serializers]   [1m[36mTeacher Load (0.4ms)[0m  [1m[34mSELECT "teachers".* FROM "teachers" WHERE "teachers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/meditation_serializer.rb:17:in `teacher'
[active_model_serializers]   [1m[36mMeditation Load (0.4ms)[0m  [1m[34mSELECT "meditations".* FROM "meditations" WHERE "meditations"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/serializers/teacher_index_serializer.rb:5:in `med_number'
[active_model_serializers]   [1m[36mPlay Load (0.4ms)[0m  [1m[34mSELECT "plays".* FROM "plays" WHERE "plays"."meditation_id" = $1[0m  [["meditation_id", 1]]
[active_model_serializers]   ↳ app/serializers/teacher_index_serializer.rb:9:in `block in total_listens'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (26.64ms)
Completed 200 OK in 31ms (Views: 26.8ms | ActiveRecord: 4.0ms | Allocations: 6250)


Started GET "/teachers/1" for 127.0.0.1 at 2023-06-20 15:53:59 -0400
Processing by TeachersController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mTeacher Load (0.5ms)[0m  [1m[34mSELECT "teachers".* FROM "teachers" WHERE "teachers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/teachers_controller.rb:10:in `show'
[active_model_serializers]   [1m[36mMeditation Load (0.5ms)[0m  [1m[34mSELECT "meditations".* FROM "meditations" WHERE "meditations"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/serializers/teacher_serializer.rb:43:in `last_med'
[active_model_serializers]   [1m[36mPlay Load (0.4ms)[0m  [1m[34mSELECT "plays".* FROM "plays" WHERE "plays"."meditation_id" = $1[0m  [["meditation_id", 1]]
[active_model_serializers]   ↳ app/serializers/teacher_serializer.rb:11:in `block in total_listens'
[active_model_serializers]   [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."meditation_id" = $1[0m  [["meditation_id", 1]]
[active_model_serializers]   ↳ app/serializers/teacher_serializer.rb:15:in `block in total_favorites'
[active_model_serializers]   [1m[35m (0.3ms)[0m  [1m[34mSELECT SUM("donations"."amount") FROM "donations" WHERE "donations"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/serializers/teacher_serializer.rb:19:in `total_income'
[active_model_serializers]   [1m[36mDonation Load (0.3ms)[0m  [1m[34mSELECT "donations".* FROM "donations" WHERE "donations"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/serializers/teacher_serializer.rb:23:in `most_donated_student'
[active_model_serializers]   [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Meditation"], ["name", "audio_file"], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/meditation_serializer.rb:13:in `audio_file'
[active_model_serializers]   [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/meditation_serializer.rb:13:in `audio_file'
[active_model_serializers]   [1m[36mFollow Load (0.3ms)[0m  [1m[34mSELECT "follows".* FROM "follows" WHERE "follows"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/controllers/teachers_controller.rb:11:in `show'
[active_model_serializers]   [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/controllers/teachers_controller.rb:11:in `show'
[active_model_serializers]   [1m[36mMeditation Load (0.3ms)[0m  [1m[34mSELECT "meditations".* FROM "meditations" WHERE "meditations"."teacher_id" = $1 ORDER BY "meditations"."created_at" DESC LIMIT $2[0m  [["teacher_id", 1], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/teachers_controller.rb:11:in `show'
[active_model_serializers] Rendered TeacherSerializer with ActiveModelSerializers::Adapter::Attributes (41.03ms)
Completed 200 OK in 46ms (Views: 38.2ms | ActiveRecord: 4.3ms | Allocations: 8594)


Started GET "/meditations/1" for 127.0.0.1 at 2023-06-20 15:54:03 -0400
Processing by MeditationsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mMeditation Load (0.4ms)[0m  [1m[34mSELECT "meditations".* FROM "meditations" WHERE "meditations"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/meditations_controller.rb:11:in `show'
[active_model_serializers]   [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Meditation"], ["name", "audio_file"], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/meditation_serializer.rb:13:in `audio_file'
[active_model_serializers]   [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/meditation_serializer.rb:13:in `audio_file'
[active_model_serializers]   [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "plays" WHERE "plays"."meditation_id" = $1[0m  [["meditation_id", 1]]
[active_model_serializers]   ↳ app/serializers/meditation_serializer.rb:8:in `listens'
[active_model_serializers]   [1m[36mTeacher Load (0.5ms)[0m  [1m[34mSELECT "teachers".* FROM "teachers" WHERE "teachers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/meditation_serializer.rb:17:in `teacher'
[active_model_serializers]   [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."meditation_id" = $1[0m  [["meditation_id", 1]]
[active_model_serializers]   ↳ app/controllers/meditations_controller.rb:12:in `show'
[active_model_serializers]   [1m[36mMeditation Load (0.4ms)[0m  [1m[34mSELECT "meditations".* FROM "meditations" WHERE "meditations"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/serializers/teacher_index_serializer.rb:5:in `med_number'
[active_model_serializers]   [1m[36mPlay Load (0.4ms)[0m  [1m[34mSELECT "plays".* FROM "plays" WHERE "plays"."meditation_id" = $1[0m  [["meditation_id", 1]]
[active_model_serializers]   ↳ app/serializers/teacher_index_serializer.rb:9:in `block in total_listens'
[active_model_serializers] Rendered MeditationSerializer with ActiveModelSerializers::Adapter::Attributes (23.46ms)
Completed 200 OK in 29ms (Views: 21.2ms | ActiveRecord: 3.6ms | Allocations: 5919)


Started GET "/me" for 127.0.0.1 at 2023-06-20 15:54:08 -0400
Processing by LogInController#me as */*
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/log_in_controller.rb:24:in `me'
  [1m[36mTeacher Load (0.4ms)[0m  [1m[34mSELECT "teachers".* FROM "teachers" WHERE "teachers"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/log_in_controller.rb:25:in `me'
[active_model_serializers]   [1m[36mPlay Load (0.3ms)[0m  [1m[34mSELECT "plays".* FROM "plays" WHERE "plays"."student_id" = $1[0m  [["student_id", 1]]
[active_model_serializers]   ↳ app/serializers/student_serializer.rb:53:in `plays_id'
[active_model_serializers]   [1m[36mMeditation Load (0.5ms)[0m  [1m[34mSELECT "meditations".* FROM "meditations"[0m
[active_model_serializers]   ↳ app/serializers/student_serializer.rb:47:in `max_by'
[active_model_serializers]   [1m[36mPlay Load (0.4ms)[0m  [1m[34mSELECT "plays".* FROM "plays" WHERE "plays"."meditation_id" = $1[0m  [["meditation_id", 1]]
[active_model_serializers]   ↳ app/serializers/student_serializer.rb:47:in `block in most_pop_med'
[active_model_serializers]   [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("plays"."length") FROM "plays" WHERE "plays"."student_id" = $1[0m  [["student_id", 1]]
[active_model_serializers]   ↳ app/serializers/student_serializer.rb:14:in `total_time'
[active_model_serializers]   [1m[36mPlay Load (0.5ms)[0m  [1m[34mSELECT "plays".* FROM "plays" WHERE "plays"."student_id" = $1 ORDER BY "plays"."created_at" DESC LIMIT $2[0m  [["student_id", 1], ["LIMIT", 5]]
[active_model_serializers]   ↳ app/serializers/student_serializer.rb:19:in `collect'
[active_model_serializers]   [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("donations"."amount") FROM "donations" WHERE "donations"."student_id" = $1[0m  [["student_id", 1]]
[active_model_serializers]   ↳ app/serializers/student_serializer.rb:23:in `total_donations'
[active_model_serializers]   [1m[36mDonation Load (0.5ms)[0m  [1m[34mSELECT "donations".* FROM "donations" WHERE "donations"."student_id" = $1[0m  [["student_id", 1]]
[active_model_serializers]   ↳ app/serializers/student_serializer.rb:27:in `most_donated_teacher'
[active_model_serializers]   [1m[36mFollow Load (0.4ms)[0m  [1m[34mSELECT "follows".* FROM "follows" WHERE "follows"."student_id" = $1[0m  [["student_id", 1]]
[active_model_serializers]   ↳ app/controllers/log_in_controller.rb:27:in `me'
[active_model_serializers]   [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."student_id" = $1[0m  [["student_id", 1]]
[active_model_serializers]   ↳ app/controllers/log_in_controller.rb:27:in `me'
[active_model_serializers]   [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."student_id" = $1[0m  [["student_id", 1]]
[active_model_serializers]   ↳ app/controllers/log_in_controller.rb:27:in `me'
[active_model_serializers]   [1m[36mTeacher Load (0.4ms)[0m  [1m[34mSELECT "teachers".* FROM "teachers" WHERE "teachers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/pop_serializer.rb:5:in `teacher_name'
[active_model_serializers] Rendered StudentSerializer with ActiveModelSerializers::Adapter::Attributes (39.75ms)
Completed 200 OK in 48ms (Views: 35.4ms | ActiveRecord: 5.9ms | Allocations: 9024)


Started GET "/meditations/1" for 127.0.0.1 at 2023-06-20 15:54:09 -0400
Processing by MeditationsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mMeditation Load (0.5ms)[0m  [1m[34mSELECT "meditations".* FROM "meditations" WHERE "meditations"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/meditations_controller.rb:11:in `show'
[active_model_serializers]   [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Meditation"], ["name", "audio_file"], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/meditation_serializer.rb:13:in `audio_file'
[active_model_serializers]   [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/meditation_serializer.rb:13:in `audio_file'
[active_model_serializers]   [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "plays" WHERE "plays"."meditation_id" = $1[0m  [["meditation_id", 1]]
[active_model_serializers]   ↳ app/serializers/meditation_serializer.rb:8:in `listens'
[active_model_serializers]   [1m[36mTeacher Load (0.5ms)[0m  [1m[34mSELECT "teachers".* FROM "teachers" WHERE "teachers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/meditation_serializer.rb:17:in `teacher'
[active_model_serializers]   [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."meditation_id" = $1[0m  [["meditation_id", 1]]
[active_model_serializers]   ↳ app/controllers/meditations_controller.rb:12:in `show'
[active_model_serializers]   [1m[36mMeditation Load (0.5ms)[0m  [1m[34mSELECT "meditations".* FROM "meditations" WHERE "meditations"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/serializers/teacher_index_serializer.rb:5:in `med_number'
[active_model_serializers]   [1m[36mPlay Load (0.4ms)[0m  [1m[34mSELECT "plays".* FROM "plays" WHERE "plays"."meditation_id" = $1[0m  [["meditation_id", 1]]
[active_model_serializers]   ↳ app/serializers/teacher_index_serializer.rb:9:in `block in total_listens'
[active_model_serializers] Rendered MeditationSerializer with ActiveModelSerializers::Adapter::Attributes (35.34ms)
Completed 200 OK in 40ms (Views: 33.2ms | ActiveRecord: 4.1ms | Allocations: 5818)


Started GET "/teachers/1" for 127.0.0.1 at 2023-06-20 15:54:24 -0400
Processing by TeachersController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mTeacher Load (0.3ms)[0m  [1m[34mSELECT "teachers".* FROM "teachers" WHERE "teachers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/teachers_controller.rb:10:in `show'
[active_model_serializers]   [1m[36mMeditation Load (0.4ms)[0m  [1m[34mSELECT "meditations".* FROM "meditations" WHERE "meditations"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/serializers/teacher_serializer.rb:43:in `last_med'
[active_model_serializers]   [1m[36mPlay Load (0.3ms)[0m  [1m[34mSELECT "plays".* FROM "plays" WHERE "plays"."meditation_id" = $1[0m  [["meditation_id", 1]]
[active_model_serializers]   ↳ app/serializers/teacher_serializer.rb:11:in `block in total_listens'
[active_model_serializers]   [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."meditation_id" = $1[0m  [["meditation_id", 1]]
[active_model_serializers]   ↳ app/serializers/teacher_serializer.rb:15:in `block in total_favorites'
[active_model_serializers]   [1m[35m (0.5ms)[0m  [1m[34mSELECT SUM("donations"."amount") FROM "donations" WHERE "donations"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/serializers/teacher_serializer.rb:19:in `total_income'
[active_model_serializers]   [1m[36mDonation Load (0.4ms)[0m  [1m[34mSELECT "donations".* FROM "donations" WHERE "donations"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/serializers/teacher_serializer.rb:23:in `most_donated_student'
[active_model_serializers]   [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Meditation"], ["name", "audio_file"], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/meditation_serializer.rb:13:in `audio_file'
[active_model_serializers]   [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/meditation_serializer.rb:13:in `audio_file'
[active_model_serializers]   [1m[36mFollow Load (0.3ms)[0m  [1m[34mSELECT "follows".* FROM "follows" WHERE "follows"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/controllers/teachers_controller.rb:11:in `show'
[active_model_serializers]   [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/controllers/teachers_controller.rb:11:in `show'
[active_model_serializers]   [1m[36mMeditation Load (0.5ms)[0m  [1m[34mSELECT "meditations".* FROM "meditations" WHERE "meditations"."teacher_id" = $1 ORDER BY "meditations"."created_at" DESC LIMIT $2[0m  [["teacher_id", 1], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/teachers_controller.rb:11:in `show'
[active_model_serializers] Rendered TeacherSerializer with ActiveModelSerializers::Adapter::Attributes (33.91ms)
Completed 200 OK in 38ms (Views: 31.1ms | ActiveRecord: 4.2ms | Allocations: 8426)


Started GET "/meditations" for 127.0.0.1 at 2023-06-20 15:54:33 -0400
Processing by MeditationsController#index as */*
  [1m[36mMeditation Load (0.5ms)[0m  [1m[34mSELECT "meditations".* FROM "meditations"[0m
  ↳ app/controllers/meditations_controller.rb:7:in `index'
[active_model_serializers]   [1m[36mFavorite Load (0.7ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."meditation_id" = $1[0m  [["meditation_id", 1]]
[active_model_serializers]   ↳ app/controllers/meditations_controller.rb:7:in `index'
[active_model_serializers]   [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Meditation"], ["name", "audio_file"], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/meditation_serializer.rb:13:in `audio_file'
[active_model_serializers]   [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/meditation_serializer.rb:13:in `audio_file'
[active_model_serializers]   [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "plays" WHERE "plays"."meditation_id" = $1[0m  [["meditation_id", 1]]
[active_model_serializers]   ↳ app/serializers/meditation_serializer.rb:8:in `listens'
[active_model_serializers]   [1m[36mTeacher Load (0.4ms)[0m  [1m[34mSELECT "teachers".* FROM "teachers" WHERE "teachers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/meditation_serializer.rb:17:in `teacher'
[active_model_serializers]   [1m[36mMeditation Load (0.7ms)[0m  [1m[34mSELECT "meditations".* FROM "meditations" WHERE "meditations"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/serializers/teacher_index_serializer.rb:5:in `med_number'
[active_model_serializers]   [1m[36mPlay Load (0.4ms)[0m  [1m[34mSELECT "plays".* FROM "plays" WHERE "plays"."meditation_id" = $1[0m  [["meditation_id", 1]]
[active_model_serializers]   ↳ app/serializers/teacher_index_serializer.rb:9:in `block in total_listens'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (32.07ms)
Completed 200 OK in 38ms (Views: 33.1ms | ActiveRecord: 4.7ms | Allocations: 6056)


  [1m[36mTeacher Load (0.4ms)[0m  [1m[34mSELECT "teachers".* FROM "teachers" ORDER BY "teachers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTeacher Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "teachers" WHERE "teachers"."email" = $1 AND "teachers"."id" != $2 LIMIT $3[0m  [["email", "guest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTeacher Update (0.6ms)[0m  [1m[33mUPDATE "teachers" SET "name" = $1, "updated_at" = $2 WHERE "teachers"."id" = $3[0m  [["name", "FakeName"], ["updated_at", "2023-06-20 19:57:20.562601"], ["id", 1]]
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
Started GET "/meditations" for 127.0.0.1 at 2023-06-20 15:58:55 -0400
Processing by MeditationsController#index as */*
  [1m[36mMeditation Load (0.4ms)[0m  [1m[34mSELECT "meditations".* FROM "meditations"[0m
  ↳ app/controllers/meditations_controller.rb:7:in `index'
[active_model_serializers]   [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."meditation_id" = $1[0m  [["meditation_id", 1]]
[active_model_serializers]   ↳ app/controllers/meditations_controller.rb:7:in `index'
[active_model_serializers]   [1m[36mActiveStorage::Attachment Load (1.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Meditation"], ["name", "audio_file"], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/meditation_serializer.rb:13:in `audio_file'
[active_model_serializers]   [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/meditation_serializer.rb:13:in `audio_file'
[active_model_serializers]   [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "plays" WHERE "plays"."meditation_id" = $1[0m  [["meditation_id", 1]]
[active_model_serializers]   ↳ app/serializers/meditation_serializer.rb:8:in `listens'
[active_model_serializers]   [1m[36mTeacher Load (0.5ms)[0m  [1m[34mSELECT "teachers".* FROM "teachers" WHERE "teachers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/meditation_serializer.rb:17:in `teacher'
[active_model_serializers]   [1m[36mMeditation Load (0.4ms)[0m  [1m[34mSELECT "meditations".* FROM "meditations" WHERE "meditations"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/serializers/teacher_index_serializer.rb:5:in `med_number'
[active_model_serializers]   [1m[36mPlay Load (0.4ms)[0m  [1m[34mSELECT "plays".* FROM "plays" WHERE "plays"."meditation_id" = $1[0m  [["meditation_id", 1]]
[active_model_serializers]   ↳ app/serializers/teacher_index_serializer.rb:9:in `block in total_listens'
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Attributes (46.81ms)
Completed 200 OK in 53ms (Views: 49.0ms | ActiveRecord: 4.1ms | Allocations: 6063)


Started GET "/teachers/1" for 127.0.0.1 at 2023-06-20 15:58:57 -0400
Processing by TeachersController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mTeacher Load (0.3ms)[0m  [1m[34mSELECT "teachers".* FROM "teachers" WHERE "teachers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/teachers_controller.rb:10:in `show'
[active_model_serializers]   [1m[36mMeditation Load (0.3ms)[0m  [1m[34mSELECT "meditations".* FROM "meditations" WHERE "meditations"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/serializers/teacher_serializer.rb:43:in `last_med'
[active_model_serializers]   [1m[36mPlay Load (0.3ms)[0m  [1m[34mSELECT "plays".* FROM "plays" WHERE "plays"."meditation_id" = $1[0m  [["meditation_id", 1]]
[active_model_serializers]   ↳ app/serializers/teacher_serializer.rb:11:in `block in total_listens'
[active_model_serializers]   [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."meditation_id" = $1[0m  [["meditation_id", 1]]
[active_model_serializers]   ↳ app/serializers/teacher_serializer.rb:15:in `block in total_favorites'
[active_model_serializers]   [1m[35m (0.5ms)[0m  [1m[34mSELECT SUM("donations"."amount") FROM "donations" WHERE "donations"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/serializers/teacher_serializer.rb:19:in `total_income'
[active_model_serializers]   [1m[36mDonation Load (0.3ms)[0m  [1m[34mSELECT "donations".* FROM "donations" WHERE "donations"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/serializers/teacher_serializer.rb:23:in `most_donated_student'
[active_model_serializers]   [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Meditation"], ["name", "audio_file"], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/meditation_serializer.rb:13:in `audio_file'
[active_model_serializers]   [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/serializers/meditation_serializer.rb:13:in `audio_file'
[active_model_serializers]   [1m[36mFollow Load (0.4ms)[0m  [1m[34mSELECT "follows".* FROM "follows" WHERE "follows"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/controllers/teachers_controller.rb:11:in `show'
[active_model_serializers]   [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."teacher_id" = $1[0m  [["teacher_id", 1]]
[active_model_serializers]   ↳ app/controllers/teachers_controller.rb:11:in `show'
[active_model_serializers]   [1m[36mMeditation Load (0.8ms)[0m  [1m[34mSELECT "meditations".* FROM "meditations" WHERE "meditations"."teacher_id" = $1 ORDER BY "meditations"."created_at" DESC LIMIT $2[0m  [["teacher_id", 1], ["LIMIT", 1]]
[active_model_serializers]   ↳ app/controllers/teachers_controller.rb:11:in `show'
[active_model_serializers] Rendered TeacherSerializer with ActiveModelSerializers::Adapter::Attributes (32.57ms)
Completed 200 OK in 37ms (Views: 29.6ms | ActiveRecord: 4.4ms | Allocations: 8436)


Started POST "/follows" for 127.0.0.1 at 2023-06-20 15:58:58 -0400
Processing by FollowsController#create as JSON
  Parameters: {"student_id"=>1, "teacher_id"=>"1", "follow"=>{"student_id"=>1, "teacher_id"=>"1"}}
[31mUnpermitted parameter: :follow[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/follows_controller.rb:4:in `create'
  [1m[36mTeacher Load (0.3ms)[0m  [1m[34mSELECT "teachers".* FROM "teachers" WHERE "teachers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/follows_controller.rb:4:in `create'
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/follows_controller.rb:4:in `create'
  [1m[36mFollow Create (19.6ms)[0m  [1m[32mINSERT INTO "follows" ("student_id", "teacher_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["student_id", 1], ["teacher_id", 1], ["created_at", "2023-06-20 19:58:58.824407"], ["updated_at", "2023-06-20 19:58:58.824407"]]
  ↳ app/controllers/follows_controller.rb:4:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/follows_controller.rb:4:in `create'
[active_model_serializers] Rendered FollowSerializer with ActiveModelSerializers::Adapter::Attributes (36.89ms)
Completed 200 OK in 121ms (Views: 75.6ms | ActiveRecord: 25.9ms | Allocations: 6392)


Started DELETE "/follows/1" for 127.0.0.1 at 2023-06-20 15:59:13 -0400
Processing by FollowsController#destroy as JSON
  Parameters: {"_json"=>"", "id"=>"1", "follow"=>{}}
  [1m[36mFollow Load (0.4ms)[0m  [1m[34mSELECT "follows".* FROM "follows" WHERE "follows"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/follows_controller.rb:11:in `destroy'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/follows_controller.rb:12:in `destroy'
  [1m[36mFollow Destroy (0.5ms)[0m  [1m[31mDELETE FROM "follows" WHERE "follows"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/follows_controller.rb:12:in `destroy'
  [1m[36mTRANSACTION (5.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/follows_controller.rb:12:in `destroy'
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.09ms)
Completed 200 OK in 61ms (Views: 45.9ms | ActiveRecord: 6.2ms | Allocations: 2306)


